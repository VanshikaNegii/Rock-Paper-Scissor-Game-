#include<stdio.h>
#include<conio.h>
int you,Computer;   
int menu()
{  
    int ch;
    printf("\n\n 1. Select Rock");
    printf("\n 2. Select Paper");
    printf("\n 3. Select Scissor");
    printf("\n 4. Exit");
    printf("\n\nEnter your choice:");
    scanf("%d",&ch);
    return(ch);
}
void setup()
{
    label:
    Computer=rand()%4;
    if(Computer==0)
        goto label;

        you=menu();
}
void logic()
{
    switch(you)     //you can either write you or computer in switch
    {
    case 1:         //User=Rock
        if(Computer==1)         //Computer=Rock
        {
            printf("\nIT'S A DRAW!!");
            printf("\n You=Rock  Computer=Rock");
        }
        else if(Computer==2)     //Computer=Paper
        {
            printf("\nCOMPUTER WON!!");
            printf("\nYou=Rock  Computer=Paper");
        }
        else    //Computer=Scissor
        {
            printf("\nYOU WON!!");
            printf("\nYou=Rock  Computer=Scissor");
        }
        break;
    case 2:         //User=Paper
        if(Computer==1)         //Computer=Rock
        {
            printf("\nYOU WON!!");
            printf("\nYou=Paper Computer=Rock");
        }
        else if(Computer==2)     //Computer=Paper
        {
            printf("\nIT'S A DRAW!!");
            printf("\nYou=Paper Computer=Paper");
        }
        else    //Computer=Scissor
        {
            printf("\nCOMPUTER WON!!");
            printf("\nYou=Paper Computer=Scissor");
        }
        break;
    case 3:             //user=scissor
        if(Computer==1)
        {
            printf("\nCOMPUTER WON!!");
            printf("\nYou=Scissor Computer=Rock");
        }
        else if(Computer==2)
        {
            printf("\nYOU WON!!");
            printf("\nYou=Scissor Computer=Paper");
        }
        else
        {
            printf("\nIT'S A DRAW!!");
            printf("\nYou=Scissor Computer=Scissor");
        }
        break;
    case 4:             //to come out of infinite loop
        exit(0);        //game is not terminating due to error, we are terminating ourselves.
    default:
        printf("\nInvalid User Choice.");
    }
}
int main()
{
    while(1)
   {		//infinite loop
    system("cls");		
    setup();
    logic();
    getch();
    }
    return 0;
}
